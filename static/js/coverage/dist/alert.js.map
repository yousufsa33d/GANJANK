{"version":3,"file":"alert.js","sources":["../../src/alert.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME                = 'alert'\nconst VERSION             = '4.4.1'\nconst DATA_KEY            = 'bs.alert'\nconst EVENT_KEY           = `.${DATA_KEY}`\nconst DATA_API_KEY        = '.data-api'\nconst JQUERY_NO_CONFLICT  = $.fn[NAME]\n\nconst Selector = {\n  DISMISS : '[data-dismiss=\"alert\"]'\n}\n\nconst Event = {\n  CLOSE          : `close${EVENT_KEY}`,\n  CLOSED         : `closed${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {\n  ALERT : 'alert',\n  FADE  : 'fade',\n  SHOW  : 'show'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n\n  close(element) {\n    let rootElement = this._element\n    if (element) {\n      rootElement = this._getRootElement(element)\n    }\n\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    if (customEvent.isDefaultPrevented()) {\n      return\n    }\n\n    this._removeElement(rootElement)\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n\n  _getRootElement(element) {\n    const selector = Util.getSelectorFromElement(element)\n    let parent     = false\n\n    if (selector) {\n      parent = document.querySelector(selector)\n    }\n\n    if (!parent) {\n      parent = $(element).closest(`.${ClassName.ALERT}`)[0]\n    }\n\n    return parent\n  }\n\n  _triggerCloseEvent(element) {\n    const closeEvent = $.Event(Event.CLOSE)\n\n    $(element).trigger(closeEvent)\n    return closeEvent\n  }\n\n  _removeElement(element) {\n    $(element).removeClass(ClassName.SHOW)\n\n    if (!$(element).hasClass(ClassName.FADE)) {\n      this._destroyElement(element)\n      return\n    }\n\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\n\n    $(element)\n      .one(Util.TRANSITION_END, (event) => this._destroyElement(element, event))\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  _destroyElement(element) {\n    $(element)\n      .detach()\n      .trigger(Event.CLOSED)\n      .remove()\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $element = $(this)\n      let data       = $element.data(DATA_KEY)\n\n      if (!data) {\n        data = new Alert(this)\n        $element.data(DATA_KEY, data)\n      }\n\n      if (config === 'close') {\n        data[config](this)\n      }\n    })\n  }\n\n  static _handleDismiss(alertInstance) {\n    return function (event) {\n      if (event) {\n        event.preventDefault()\n      }\n\n      alertInstance.close(this)\n    }\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document).on(\n  Event.CLICK_DATA_API,\n  Selector.DISMISS,\n  Alert._handleDismiss(new Alert())\n)\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME]             = Alert._jQueryInterface\n$.fn[NAME].Constructor = Alert\n$.fn[NAME].noConflict  = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Alert._jQueryInterface\n}\n\nexport default Alert\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","Selector","DISMISS","Event","CLOSE","CLOSED","CLICK_DATA_API","ClassName","ALERT","FADE","SHOW","Alert","element","_element","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","selector","Util","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","trigger","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","_jQueryInterface","config","each","$element","data","_handleDismiss","alertInstance","preventDefault","on","Constructor","noConflict"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}